<p>При использовании Web API состояние обработки запроса на сервере мы можем контролировать с помощью статусных кодов:</p>
<ul>
<li><p><code>200</code>: статус Ok. Указывает на удачное выполнение запроса</p></li>
<li><p><code>201</code>: статус Created. Указывает на успешное создание объекта, как правило, используется в запросах POST</p></li>
<li><p><code>204</code>: статус NoContent - запрос прошел успешно, например, после удаления</p></li>
<li><p><code>400</code>: статус BadRequest - ошибка при выполнении запроса</p></li>
<li><p><code>401</code>: статус Unathorized - пользователь не авторизован</p></li>
<li><p><code>403</code>: статус Forbidden - доступ запрещен</p></li>
<li><p><code>404</code>: статус NotFound - ресурс не найден</p></li>
</ul>
<p>Хотим валидировать! Для этого</p>
<ul>
    <li>Раскидываем в валидируемой модели аттрибуты типа Required, Range и тд.</li>
    <li>Добавляем в контроллер валидацию</li>
    <ul>
        <li>Обрабатываем частные случаи, например, возраст не может быть больше 99 </li>        
        <pre><code>
            if (user.Age == 99)
                ModelState.AddModelError(&quot;Age&quot;, &quot;Возраст не должен быть равен 99&quot;);</code></pre>
        <p>В этом примере используется метод ModelState.AddModelError, первый параметр которого - ключ ошибки, а второй - сообщение об ошибке. В качестве ключа мы можем использовать любое значение, но по умолчанию система сохраняет все ошибки свойств модели по ключу "Название_свойства". Поэтому все ошибки, связанные со свойством Name, сохраняются по ключу "Name". Причем по одному ключу мы можем указать множество ошибок.</p>
        <li>Обрабатываем саму модель с использованием ModelState.IsValid (вспоминаем атрибуты в модели)</li>
    </ul> 
    <li>Все ошибки валидаци сохраняются в объекте ModelState, который передается в метод BadRequest и, таким образом, отправляется клиенту вместе с ошибкой 400.</li>   
</ul>