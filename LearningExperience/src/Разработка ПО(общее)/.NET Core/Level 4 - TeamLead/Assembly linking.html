<p>Пакет SDK для .NET core 3.0 поставляется с инструментом, который может уменьшить размер приложений, анализируя IL и обрезая неиспользуемые сборки.</p>
<p>Приложения self-contained включают в себя все необходимое для запуска вашего кода, без необходимости установки .NET на главный компьютер. Однако во многих случаях для работы приложению требуется лишь небольшое подмножество фреймворка, а другие неиспользуемые библиотеки могут быть удалены.</p>
<p>NET Core теперь включает параметр, который будет использовать инструмент IL Linker для сканирования IL вашего приложения. Этот инструмент определяет, какой код необходимый для работы приложения, а затем удаляет неиспользуемые библиотеки. Этот инструмент может значительно уменьшить размер развертывания некоторых приложений.</p>
<p>Чтобы включить этот инструмент, добавьте параметр &lt;PublishTrimmed&gt; в свой проект и опубликуйте автономное приложение:</p>
<pre><code>
&lt;PropertyGroup&gt;
    &lt;PublishTrimmed&gt;true&lt;/PublishTrimmed&gt;
  &lt;/PropertyGroup&gt;</code></pre>
 <p>Например, базовый шаблон проекта новой консоли «hello world», при публикации, достигает размера около 70 МБ. При использовании < PublishTrimmed > этот размер уменьшается примерно до 30 МБ.</p>
 <p>Важно учитывать, что приложения или платформы (включая ASP.NET Core и WPF), которые используют рефлекшен или связанные динамические функции, часто ломаются при удалении ненужных библиотек. Этот сбой происходит из-за того, что линкер не знает об этом динамическом поведении и не может определить, какие типы фреймворка требуются для отражения. IL Linker можно настроить так, чтобы он знал об этом сценарии.</p>
 <p>Ну и конечно же, обязательно тестируйте свои приложения после обрезки.</p>