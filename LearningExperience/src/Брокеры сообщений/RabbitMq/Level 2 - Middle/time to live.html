<p>RabbitMQ позволяет вам устанавливать TTL (время жизни) как для сообщений, так и для очередей. Это можно сделать с помощью необязательных аргументов очереди или политик (рекомендуется последний вариант).
<br>
TTL сообщения может применяться к отдельной очереди, группе очередей или применяться к каждому сообщению.
</p>
<h6>Time to live message</h6>
<p>Время жизни сообщения можно установить для данной очереди, установив аргумент message-ttl с политикой или указав тот же аргумент во время объявления очереди.</p>
<p>Сообщение, находящееся в очереди дольше заданного срока жизни, считается мертвым. Обратите внимание, что сообщение, направленное в несколько очередей, может умереть в разное время или не умереть вообще в каждой очереди, в которой оно находится. Смерть сообщения в одной очереди не влияет на срок жизни того же сообщения в других очередях.</p>
<p>Сервер гарантирует, что мертвые сообщения не будут доставлены с использованием basic.deliver (потребителю) или включены в ответ basic.get-ok (для операций одноразовой выборки). Кроме того, сервер попытается удалить сообщения при истечении срока их действия на основе TTL или вскоре после этого.
<br>
Значение аргумента TTL или политики должно быть неотрицательным целым числом (0 < = n), описывающим период TTL в миллисекундах. Таким образом, значение 1000 означает, что сообщение, добавленное в очередь, будет находиться в очереди в течение 1 секунды или до тех пор, пока не будет доставлено потребителю.</p>
<h6>Time to live queue</h6>
<p>TTL также можно установить для очередей, а не только для содержимого очереди. Очереди истекают через некоторое время, только если они не используются (например, не имеют потребителей). Эту функцию можно использовать вместе со свойством очереди автоматического удаления.</p>
<p>Сервер гарантирует, что очередь будет удалена, если она не будет использоваться по крайней мере в течение срока действия. Не дается никаких гарантий относительно того, как быстро очередь будет удалена по истечении срока действия. </p>

<p>Источник: <a href="https://www.rabbitmq.com/ttl.html#per-message-ttl-caveats">https://www.rabbitmq.com/ttl.html#per-message-ttl-caveats</a></p>