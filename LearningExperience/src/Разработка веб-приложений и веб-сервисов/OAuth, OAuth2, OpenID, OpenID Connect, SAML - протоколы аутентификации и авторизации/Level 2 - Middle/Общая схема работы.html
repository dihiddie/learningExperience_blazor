<h4>Аутентификация и авторизация</h4>
<p><b>регистрация</b> = заказ столика в ресторане</p>
<p><b>идентификация</b> (ввод логина) = пришёл, подходишь к администратору ресторана, говоришь я здесь заказывал столик</p>
<p><b>аутентификация</b> (ввод пароля) = администратор говорит — докажи что ты это ты) Ты показываешь права или паспорт</p>
<p><b>авторизация</b> = администратор смотрит в список гостей и говорит — ваш вон тот столик у туалета</p>
<br>

<h4>OAuth2.0</h4>
<p>OAuth 2.0 — протокол авторизации, позволяющий выдать одному сервису (приложению) права на доступ к ресурсам пользователя на другом сервисе. Протокол избавляет от необходимости доверять приложению логин и пароль, а также позволяет выдавать ограниченный набор прав, а не все сразу.</p>
<p>Как и первая версия, OAuth 2.0 основан на использовании базовых веб-технологий: HTTP-запросах, редиректах и т. п. Поэтому использование OAuth возможно на любой платформе с доступом к интернету и браузеру: на сайтах, в мобильных и desktop-приложениях, плагинах для браузеров…</p>
<p>Результатом авторизации является access token — некий ключ (обычно просто набор символов), предъявление которого является пропуском к защищенным ресурсам. Обращение к ним в самом простом случае происходит по HTTPS с указанием в заголовках или в качестве одного из параметров полученного access token'а. Безопасность OAuth 2.0 во многом основана на SSL.</p>
<p>OAuth позволяет программе (на вебе или локальной) получить от пользователя права на использование какого-то конкретного API. Права обозначаются токеном, свойства которого никак не определены: он может быть одинаковым для разных пользователей, может быть разным для одного в разное время. Всё, что гарантируется — это что программа в обмен на токен сможет выполнять какие-то действия на каком-то сервисе. Другими словами, OAuth — это чистая авторизация: вы обладаете конкретными правами, но не можете в общем случае по ним определить, кому они принадлежат.</p>

<h4>Access Token</h4>
<p>Вернемся к истокам: наличие сессионного ключа — признак авторизованности, сам сессионный ключ отпирает дверку к информации о пользователе, и, вы не поверите, к информации о сессии. Значит сервер авторизации авторизует и отдает сессионный ключ другому серверу.
<br>Теперь, правда, он называется уже не сессионный ключ, а токен. А точнее говоря (по протоколу OAuth 2.0, поверх которого написан OpenID Connect) это сразу два токена — <b>Access Token</b>, чтобы цеплять его ко всем запросам как деды цепляли ключи сессии, и <b>Refresh Token</b>, чтобы обновлять Access Token когда он протухнет.</p>

<h4>OpenID</h4>
<p>OpenID позволяет сайту удостовериться, что его пользователь владеет неким персональным URL (своим сайтом, блогом, профилем). Этого факта достаточно для того, чтобы использовать уникальный URL для узнавания того же самого пользователя в следующий раз. И всё. Все остальные вещи — заведение аккаунта, получение email'а и других данных, разрешение какой-то активности на сайте — остаётся на усмотрение сайта. Другими словами, OpenID — это чистая аутентификация: вы знаете, кто к вам пришёл, но вольны делать с этим знанием всё, что угодно.</p>

<h4>OpenId Connect</h4>
<p>OpenId Connect - простой слой учетных данных поверх протокола OAuth 2.0. Данный протокол является протоколом системы единого входа, позволяющей использовать пользователю одну учётную запись для авторизации на различных интернет ресурсах.</p>

<p>OpenId Connect содержит в себе несколько различных потоков взаимодейтсвия, наиболее распространённым из которых является Code Flow, его и рассмотрим</p>

<p></p>Code Flow состоит из следующих шагов:</p>

<ol>
	<li>Подготовка запроса авторизации</li>
	<li>Запрос авторизации</li>
	<li>Аутентификация пользователя</li>
	<li>Получение сервером авторизации данных пользователя</li>
	<li>Перенаправление пользователя обратно на ресурс, с которого был отправлен запрос на авторизацию</li>
	<li>Получение ресурсом кода авторизации из запроса пользователя</li>
	<li>Запрос токенов с использованием кода авторизации</li>
	<li>Получение токенов</li>
	<li>Валидация токенов&amp;nbsp;&amp;nbsp;&amp;nbsp;</li>
</ol>