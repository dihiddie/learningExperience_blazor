<p>Транзакция является рабочей единицей работы с базой данных (далее – БД). Это последовательность операций, выполняемых в логическом порядке пользователем, либо программой, которая работает с БД.</p>
<p>Основные концепции транзакции описываются аббревиатурой <b>ACID</b> – Atomicity, Consistency, Isolation, Durability (Атомарность, Согласованность, Изолированность, Долговечность).</p>
<ul>
    <li><h5>Атомарность</h5></li>
    <p>Атомарность гарантирует, что любая транзакция будет зафиксирована только целиком (полностью). </p>        
    <li><h5>Согласованность</h5></li>
    <p>Это означает, что любая завершённая транзакция (транзакция, которая достигла завершения транзакции – end of transaction) фиксирует только допустимые результаты. Например, при переводе денег с одного счёта на другой, в случае, если деньги ушли с одного счёта, они должны прийти на другой (это и есть согласованность системы).  </p>        
    <li><h5>Изолированность</h5></li>
    <p>Каждая транзакция должна быть изолирована от других, т.е. её результат не должен зависеть от выполнения других параллельных транзакций. На практике, изолированность крайне труднодостижимая вещь, поэтому здесь вводится понятие “уровни изолированности” (транзакция изолируется не полностью). </p>        
    <li><h5>Долговечность</h5></li>
    <p>Эта концепция гарантирует, что если мы получили подтверждение о выполнении транзакции, то изменения, вызванные этой транзакцией не должны быть отменены из-за сбоя системы (например, отключение электропитания).</p>        
</ul>

<p>Для управления транзакциями используются следующие команды:</p>
<ul>
    <li>COMMIT - Сохраняет изменения</li>
    <li>ROLLBACK - Откатывает (отменяет) изменения</li>
    <li>SAVEPOINT - Создаёт точку к которой группа транзакций может откатиться</li>
    <li>SET TRANSACTION - Размещает имя транзакции.</li>
    <li></li>
</ul>

<h4>Уровни изоляции</h4>
<ul>
    <li><h5>Read uncommitted</h5></li>
    <p>Уровень, имеющий самую плохую согласованность данных, но самую высокую скорость выполнения транзакций. Название уровня говорит само за себя — каждая транзакция видит незафиксированные изменения другой транзакции (феномен грязного чтения). </p>      

    <li><h5>Read committed</h5></li>
    <p>Для этого уровня параллельно исполняющиеся транзакции видят только зафиксированные изменения из других транзакций. Таким образом, данный уровень обеспечивает защиту от грязного чтения. <b>Является дефолтным уровнем изоляции для Sql Server</b></p>        

    <li><h5>Repeatable read</h5></li>
    <p>Уровень, позволяющий предотвратить феномен неповторяющегося чтения. Т.е. мы не видим в исполняющейся транзакции измененные и удаленные записи другой транзакцией. Но все еще видим вставленные записи из другой транзакции. Чтение фантомов никуда не уходит. Так это должно работать по сути, но на самом деле в MySQL отсутствует эффект чтения фантомов для уровня repeatable read. И в PostgreSQL от него тоже избавились для этого уровня. Хотя в классическом представлении этого уровня, мы должны наблюдать этот эффект. Поэтому первая транзакция будет ждать коммит изменений другой транзакции </p>        

    <li><h5>Serializable</h5></li>
    <p>Уровень, при котором транзакции ведут себя как будто ничего более не существует, никакого влияния друг на друга нет.</p>        
</ul>

<p><b>Офигенный гайд по уровням изоляции: <a href="https://habr.com/ru/post/305600/">https://habr.com/ru/post/305600/</a>, <a href="https://habr.com/ru/post/317884/#:~:text=%D0%92%20%D1%81%D1%82%D0%B0%D0%BD%D0%B4%D0%B0%D1%80%D1%82%D0%B5%20SQL%20%D0%BE%D0%BF%D0%B8%D1%81%D1%8B%D0%B2%D0%B0%D0%B5%D1%82%D1%81%D1%8F%20%D1%87%D0%B5%D1%82%D1%8B%D1%80%D0%B5,)%20%D0%B8%20Serializable%20(%D0%A1%D0%B5%D1%80%D0%B8%D0%B0%D0%BB%D0%B8%D0%B7%D1%83%D0%B5%D0%BC%D0%BE%D1%81%D1%82%D1%8C).">хабр еще</a></b></p>