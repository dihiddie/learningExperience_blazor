<p>
    <b>Queue (очередь) </b> — структура данных на диске или в оперативной памяти, которая хранит ссылки на сообщения и отдает их копии consumers (потребителям). Queue представляет собой Erlang-процесс с состоянием (где могут кэшироваться и сами сообщения). 1 тысяча очередей может занимать порядка 80Mb.
</p>

<ul>
    <li>
        <h6>Временные очереди</h6>
        <p>Если создание очереди происходит с установленным параметром autoDelete, то такая очередь обретает способность <b>автоматически удалять себя</b>. Такие очереди обычно создаются в момент подключения первого клиента и удаляются в момент, когда все клиенты отсоединились.</p>
        <p>Если создание очереди происходит с установленным параметром exclusive, то <b>такая очередь разрешает подключаться только одному потребителю</b> и удаляется если закроется канал. До тех пор пока канал не закроется, клиент может отключаться/подключаться, но только в рамках того же самого соединения. Если параметр exclusive установлен, то параметр autoDelete не имеет никакого эффекта.</p>
        <p>Особенности:</p>
        <ul>
            <li>при кратковременном разрыве связи мы будем терять сообщения, которые ещё не успели дойти до потребителя</li>
            <li>можно поймать феномен binding churn. Феномен возникает, когда количество операций по созданию/удалению очередей и привязок достигает очень больших значений. В кластерном режиме такой поток операций будет расползаться по всем узлам и создаст большую нагрузку. Данный процесс можно оптимизировать за счет контроля количества подписок</li>
        </ul>
    </li>
    <li>
        <h6>Постоянные очереди</h6>
        <p>Если создание очереди происходит с установленным параметром durable, то<b> такая очередь сохраняет свое состояние и восстанавливается после перезапуска сервера/брокера.</b> Данная очередь будет существовать до тех пор пока не будет вызвана команду Queue.Delete.</p>
    </li>
    <li>
        <h6>Highly Available очереди</h6>
        <p>Очереди HA требуют кластерной среды RabbitMQ. В кластерном режиме вся информация об обменниках, очередях, привязках и потребителях будет скопирована на все узлы.</p>
        <p>Когда сообщение публикуется в какую-то HA очередь, оно хранится на каждом узле, относящемуся к HA очереди. После того как сообщение потребляется на каком-то из узлов, все копии этого сообщения будут удалены на других узлах.</p>
        <p>Очереди HA могут распространяться на все узлы в некотором кластере или только на индивидуальные.</p>       
    </li>
</ul>

<h5>Создание очереди, основные параметры:</h5>
<ul>
    <li><i>queue</i> — название очереди, которую мы хотим создать. Название должно быть уникальным и не может совпадать с системным именем очереди</li>
    <li><i>durable </i>— если true, то очередь будет <b>сохранять свое состояние и восстанавливается после перезапуска сервера/брокера</b></li>
    <li><i>exclusive </i> — если true, то очередь будет разрешать подключаться только одному потребителю</li>
    <li><i>autoDelete </i>если true, то очередь обретает способность <b>автоматически удалять себя</b></li>
    <li><i>arguments </i> — необязательные аргументы. </li>
</ul>

<p>Источник: <a href="https://habr.com/ru/post/490960/">https://habr.com/ru/post/490960/</p>