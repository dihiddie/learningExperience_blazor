<p>Как и любой класс, контроллер может получать сервисы приложения через механизм dependency injection. В контроллере это можно делать 
    следующими способами:</p>
    <ul>
    <li><p>Через конструктор</p></li>
    <pre><code> 
    public HomeController(ITimeService timeServ)
    {
        _timeService = timeServ;
    }
    </code></pre>
    <p>В данном случае процесс установки зависимостей будет выглядеть следующим образом:</p>
    <ol>
        <li><p>Приложение получает запрос к методу контроллера HomeController<p></li>
        <li><p>Фреймворк MVC обращается к провайдеру сервисов для создания объекта контроллера HomeController<p></li>
        <li><p>Провайдер сервисов смотрит на конструктор класса HomeController и видит, что там имеется зависимость от интерфейса ITimeService<p></li>
        <li><p>Провайдер сервисов среди зарегистрированных зависимостей ищет класс, который представляет реализацию интерфейса ITimeService<p></li>
        <li><p>Если нужная зависимость найдена, то провайдер сервисов создает объект класса, который реализует интерфейс ITimeService<p></li>
        <li><p>Затем провайдер сервисов создает объект HomeController, передавая в его конструктор ранее созданную реализацию ITimeService<p></li>
        <li><p>В конце провайдер сервисов возвращает созданный объект HomeController инфраструктуре MVC, которая использует контроллер для обработки запроса<p></li>
    </ol>
    <li><p>Через параметр метода, к которому применяется атрибут FromServices. Передача зависимостей в методы. FromServices</p></li>
    <p>Иногда зависимость используется только в одном методе. И в этом случае нет необходимости передавать ее в контроллер, поскольку она напрямую может быть внедрена в сам метод, который ее использует. Для передачи зависимости в метод применяется атрибут <b>[FromServices]</b>:</p>
    <pre><code>
    public string Index(<b>[FromServices]</b> ITimeService timeService)
    {
        return timeService.Time;
    }
    </code></pre>
    <li><p>Через свойство HttpContext.RequestServices</p></li>
    <p>В методах контроллера можно обращаться к объекту контекста запроса через свойство HttpContext, а через свойство HttpContext.RequestServices можно получить все зарегистрированные в приложении сервисы:</p>
    <pre><code>
    public string Index()
    {
        <b>ITimeService timeService = HttpContext.RequestServices.GetService&lt;ITimeService&gt;();</b>
        return timeService?.Time;
    }
    </code></pre>
    </ul>