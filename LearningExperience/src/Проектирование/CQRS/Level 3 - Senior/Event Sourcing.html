<p>Идея Event Sourcing в том чтобы записывать каждое событие, которое меняет состояние приложения в базу данных. Таким образом получается что мы храним не состояние наших сущностей, а все события которые к ним относятся. Однако мы привыкли к тому чтобы манипулировать именно состоянием, оно храниться у нас в базе и мы всегда можем его посмотреть.
В случае с Event Sourcing мы тоже оперируем с состоянием сущности. Но в отличии от обычной модели мы это состоянием не храним, а воспроизводим каждый раз при обращении.</p>

<a href="https://habr.com/ru/post/146429/">https://habr.com/ru/post/146429/</a>

<p>Предпосылки к Event Sourcing
    Возьмем для примера реляционную БД MSSQL. В ней есть понятие лога транзакции. При изменении значения ячейки, в лог транзакций записывается что и когда мы поменяли. Если взять лог транзакций и "проиграть" его от начала до конца, то получится текущее состояние БД.
    
    В Event Sourcing мы берем концепцию лога транзакций и реализуем её в коде в явном виде. Теперь каждое изменение состояние системы не записывается в БД напрямую, а сохраняется в виде Event'а. Хранилище содержит не сами данные, а набор Event'ов со всеми изменениями, которые были в системе. Это хранилище обычно называют Event Store.
    
    Если мы не храним данные, а только лог изменений, то как делать запросы для выборки данных? Чтобы сделать запрос к БД, мы создаем специальные проекции, основанные на логе Event'ов. Аналог проекций в MSSQL - это View, но разница в том, что View основаны на данных в БД (состоянии), а проекции создаются и обновляются на основе списка Event'ов.
    
    Ниже примеры бизнес-задач, которые могут обратить ваше внимание на использование Event Sourcing:
    <br>
    
    <br> - Каким было состояние системы 2 недели назад на момент события Х?
    <br> - Пользователям надо отменять любые действия в системе
    <br> - Имеете ли вы право затереть данные в ячейке новыми? На сколько важны старые данные? Можем ли мы позволить себе потерять старые значения?
    <br> - Сами события переходов между состояниями являются важной частью аналитики</p>

    <br> - Все изменения, которые попадают в систему, мы записываем в виде дельты - Event. Событие изменения состояния системы должно знать к какому агрегату оно относится, версию и данные об изменении.
    <br> - Текущее состояние домена – это "проигрывание" журнала Event'ов\
    <br> - Выборки делаются на проекциях, сами проекции это "проигранные" Event'ы 
    <br> - Для экономии ресурсов состояние домена не "проигрывается" каждый раз с нуля. Мы можем зафиксировать состояние домена на определенную дату, например, с начала года. Это называется создать snapshot.

    <a href="https://blog.byndyu.ru/2014/07/command-and-query-responsibility.html">https://blog.byndyu.ru/2014/07/command-and-query-responsibility.html</a>